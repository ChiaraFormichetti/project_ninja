<!--
    usato per scambiare dati tra server e pagina web
    SINTASSI
    dati mostrati come coppia chiave(key) valore(value)
    i dati sono separati da una virgola
    le parentesi quadre [] simboleggiano gli arrray
    le parentesi {} simboleggiano gli oggetti

    tutti i nomi delle chiavi devono essere contenuti in doppi apici ""
    {"nome": "Luca"}

    Un oggeto js differisce per chiave ed apici utilizzabili
    {nome:'Luca'} 

    Creato un oggetto con tutti i dati che vuoi in un file json puoi trasformalo in un oggetto in js
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>/*
        let utente = {
            "id": 555,
            "nome": "Chiara",
            "cognome": "Formichetti",
            "codiceFiscale":"FRMCHR99B64L117C",
            "eta":24,
            "sposato": false,
            "indirizzo":{
                "via":"Via fontana di polo",
                "citta": "Terni",
                "provincia": "TR",
                "codicePostale": "05100"
            },
            "recapiti":{
                "email": ["221973@unimore.it","chiara.formichetti@outlook.it"],
                "telefono":[ 
                { 
                "tipo":"ufficio",  
                "numero": "123456789"
                },
                {
                "tipo":"cellulare",
                "numero":"987654321"
                }
                ]
            
            },
            "amici":[
            {
                "nome":"Mario",
                "conome":"Verdi",
                "amici":[
                    {
                        "nome":"Anna",
                        "conome":"Gialla"
                    }
                ]
            }   
            ]
        };*/

        //con JSON.parse otteniamo il nostro oggetto
        let parsed = JSON.parse(utente);
        console.log(parsed); 
        //JSON (javascript object notation) è uno standard dati basato sul format testo che rappresenta dei dati strutturati
        //è un modo di passare dati che passa una stringa che verrà parsata in dati effettivi
        //se scirivamo in JSON in un file js chiudiamo tutto fra apici '', poichè appyunto è una stringa
        //JSON ha solo proprietà niente metodi
        //come otteniamo un json senza riscriverlo tutto ?
        //o facciamo nel modo indicato qui sotto o con il fetch()
        let requestURL = 'utente.json'; // richiesta che facciamo del percorso al file, il punto prima indica che lo deve cercare
        //nella stessa cartella, allo stesso livello
        let request = new XMLHttpRequest();//la richiesta
        request.open('GET',requestURL);//apriamo l'oggetto richiesta, con il metodo get e ci mettiamo dentro il percorso richiesto
        request.responseType = 'json';//settiamo il tipo di risposta
        request.send();//inviamo la richiesta
        //ci deve essere mandato indietro il file
        //quando viene mandata la richiesta( sull'evento onload) crea una funzione anonima
        request.onload = function(){
            //crea una costante classe che è uguale alla risposta della richiesta
            const classe = request.response;
            console.log(classe);
        }

                
    </script>
</body>
</html>